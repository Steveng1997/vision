<h4 style="text-align: center;"> TOTAL HOY {{totalServicio}} € </h4>

<div class="padre">
  <div class="hijo">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Nota</th>
          <th scope="col">Terap.</th>
          <th scope="col">Encarg.</th>
          <th scope="col">Hora</th>
          <th scope="col">Tiempo</th>
          <th scope="col">Servicio</th>
          <th scope="col">Salida</th>
          <th scope="col">Bebida</th>
          <th scope="col">Tabaco</th>
          <th scope="col">Vitamina</th>
          <th scope="col">Propina</th>
          <th scope="col">Otros</th>
        </tr>
      </thead>
      <tbody (click)="editamos(vis.id)" *ngFor="let vis of vision ">
        <tr>
          <td [ngClass]="{'nota':vis.nota !== ''}" (click)="notas(vis.id, modalTabl)"></td>
          <td>{{vis.terapeuta}}</td>
          <td>{{vis.encargada}}</td>
          <td>{{vis.horaStart + '-' + vis.horaEnd}}</td>
          <td>{{vis.minuto }}</td>
          <td>{{vis.totalServicio + ' €'}}</td>
          <td>{{vis.nota}}</td>
          <td>{{vis.bebidas + ' €'}}</td>
          <td>{{vis.tabaco + ' €'}}</td>
          <td>{{vis.vitaminas + ' €'}}</td>
          <td>{{vis.propina+ ' €'}}</td>
          <td>{{vis.otros + ' €'}}</td>
        </tr>

        <!-- Modal -->
        <ng-template class="custom-modal" #modalTabl let-modal>
          <div class="modal-header">
            <h5 class="modal-title"> Nota </h5>
            <button type="button" class="close" (click)="modal.dismiss()" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body" style="text-align: center;">
            <!-- Aqui se coloca lo adentro -->

            <h4>{{vis.nota}}</h4>

            <!-- Afuera -->
          </div>
        </ng-template>

        <!-- Fin Modal -->
      </tbody>
    </table>
  </div>
</div>

<!-- Ocupacion -->

<h4 style="text-align: center; margin-top: 3rem;"> OCUPACIÓN </h4>

<div class="padre">
  <div class="hijo">
    <table class="table">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Terapeuta</th>
          <th scope="col">Salida</th>
          <th scope="col">Fin</th>
          <th scope="col">Restante</th>
        </tr>
      </thead>
      <tbody *ngFor="let vis of vision ">
        <tr>
          <td
            [ngClass]="{'ocupado':calculardiferencia(vis.horaEnd) !== '' , 'disponible':calculardiferencia(vis.horaEnd) === '', 'disponible2':calculardiferencia(vis.horaEnd) === '00:00'}">
          </td>
          <td>{{vis.terapeuta}}</td>
          <td>{{vis.salida}}</td>
          <td>{{vis.horaEnd}}</td>
          <td>{{calculardiferencia(vis.horaEnd)}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>