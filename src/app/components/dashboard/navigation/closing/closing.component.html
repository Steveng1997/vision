<div class="container">
    <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-8 mx-auto">
            <div class="m-0 vh-90 row justify-content-center align-items-center">

                <label *ngIf="closingForm" class="titleLiqudationTherapist"> CIERRE </label>

                <div class="row tableContainerFilters" *ngIf="validationFilters">

                    <div class="buttonFilters" (click)="modalFiltres(modalFilter)">

                        <div class="row g-0"> <img src="/assets/icons8-opciones-para-ordenar-100.png"
                                class="iconFilters">
                        </div>

                        <div class="row g-0">
                            <label class="filters">Filtrar</label>
                        </div>


                        <!-- Modal -->
                        <ng-template class="custom-modal" #modalFilter let-modal>
                            <div class="modal-header">
                                <button type="button" class="close" (click)="modal.dismiss()" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                            <div class="modal-body" style="text-align: center;">
                                <!-- Aqui se coloca lo adentro -->
                                <form *ngIf="closingForm" [formGroup]="formTemplate">
                                    <div class="row tableContainer">

                                        <div class="containerInCharge">
                                            <div class="row g-0">
                                                <label class="text">Encargada</label>
                                                <select class="form-select" formControlName="encargada"
                                                    [(ngModel)]="closing.encargada" (ngModelChange)="filters()"
                                                    style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif;">
                                                    <option *ngIf="administratorRole" selected value="">Selecciona
                                                    </option>
                                                    <option *ngFor="let managers of manager" [value]="managers.nombre">
                                                        {{managers.nombre}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="containerSearch">
                                            <div class="row g-0">
                                                <label class="text">Buscar</label>
                                                <input type="text" class="form-control" formControlName="busqueda"
                                                    (ngModelChange)="filters()" style="height: 2.2rem; border-color: #8C52FF; color: #242424; 
                                                    font-size: 18px; font-family: sans-serif;">
                                            </div>
                                        </div>

                                        <div class="dateContainer">
                                            <div class="row g-0">
                                                <label class="text">Fecha Inicio</label>
                                                <input type="date" class="form-control" (change)="filters()"
                                                    formControlName="fechaInicio" [value]="CurrenDate"
                                                    style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif">
                                            </div>
                                        </div>

                                        <div class="dateContainer">
                                            <div class="row g-0">
                                                <label class="text">Fecha Final</label>
                                                <input type="date" class="form-control" (change)="filters()"
                                                    formControlName="FechaFin" [value]="CurrenDate" style="height: 2.2rem; border-color: #8C52FF; 
                                        color: #242424; font-size: 18px; font-family: sans-serif">
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <button type="submit" mat-raised-button class="btn btn-primary"
                                            style="display: grid; margin: auto; margin-top: 1rem" color="primary"
                                            (click)="OK()">Aceptar</button>
                                    </div>
                                </form>

                                <!-- Afuera -->
                            </div>
                        </ng-template>
                        <!-- Fin Modal -->
                    </div>

                    <div class="buttonDeleteContainer" (click)="deleteLiquidation()">

                        <div *ngIf="!deleteButton" class="row g-0"> <img src="/assets/icons8-eliminar-100.png"
                                class="iconDelete"> </div>

                        <div *ngIf="deleteButton" class="row g-0"> <img src="/assets/icons8-eliminar-100-red.png"
                                class="iconDelete"> </div>

                        <div class="row g-0">
                            <label [ngClass]="{'titleDeleteRed': deleteButton == true , 
                                'titleDelete': deleteButton == false}">Eliminar</label>
                        </div>

                    </div>

                    <div class="newService" (click)="insertForm()">
                        <div class="row g-0">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="cursor: pointer"
                                class="bi bi-plus-circle iconNewService" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                <path
                                    d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                            </svg>
                        </div>

                        <div class="row g-0">
                            <label class="titleNewService"> Nueva </label>
                        </div>
                    </div>
                </div>

                <div *ngIf="closingForm" class="columnArrow" id="arrowLine1">
                    <i class='far fa-arrow-alt-circle-right arrow' (click)="arrowLine1()"></i>
                </div>

                <!-- Table 1 -->
                <div *ngIf="closingForm" class="column">

                    <div class="columnTableLine1">

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div class="textTreatmentLine1">
                            <label>Trata</label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                        <div>
                            <label></label>
                        </div>

                    </div>

                    <div class="columnTableLine2">

                        <div class="textManager">
                            <label>Encargada</label>
                        </div>

                        <div class="textDate">
                            <label>Desde</label>
                        </div>

                        <div class="textDate">
                            <label>Hasta</label>
                        </div>

                        <div class="textTreatmentLine2">
                            <label>miento</label>
                        </div>

                        <div class="textImport">
                            <label>Total</label>
                        </div>

                        <div class="textCash">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizum">
                            <label>Bizum</label>
                        </div>

                        <div class="textCard">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransfer">
                            <label>Transf.</label>
                        </div>

                    </div>

                    <hr class="lineTable1">

                    <div class="columnTableLine2" *ngFor="let closing of (close | encargada: closing.encargada 
                    | fechaCierre: fechaInicio:fechaFinal | busquedaTerapeuta: filtredBusqueda) 
                    | paginate: { itemsPerPage: 50, currentPage: page }">

                        <div class="columnManager" (click)="dataFormEdit(closing.idCierre, closing.id)">
                            {{closing?.encargada}}</div>

                        <div class="columnDateTable1"> {{closing?.desdeFecha + ' - ' +
                            closing?.desdeHora}} </div>

                        <div class="columnDateTable1"> {{closing?.hastaFecha + ' - ' +
                            closing?.hastaHora}} </div>

                        <div class="columnTreatment">{{closing?.tratamiento}}</div>

                        <div class="columnImport">{{closing?.total + ' €'}}</div>

                        <div class="columnCash">{{closing?.efectivo}}</div>

                        <div class="columnBizum">{{closing?.bizum}}</div>

                        <div class="columnCard">{{closing?.tarjeta}}</div>

                        <div class="columnTransfer">{{closing?.transaccion}}</div>
                    </div>
                </div>

                <pagination-controls *ngIf="closingForm" class="pagination_Mobile" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <!-- Add Therapist -->

                <label *ngIf="addForm" class="title">NUEVO CIERRE</label>

                <form *ngIf="addForm">

                    <div class="row tableContainerNew">

                        <div *ngIf="administratorRole" class="containerInChargeNew">
                            <div class="row g-0">
                                <label class="text">Encargada</label>
                                <select class="form-select" name="encargada" [(ngModel)]="closing.encargada"
                                    (ngModelChange)="calculateServices()"
                                    style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif;">
                                    <option selected value="">Selecciona</option>
                                    <option *ngFor="let managers of manager" [value]="managers.nombre">
                                        {{managers.nombre}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div *ngIf="!administratorRole" class="containerInChargeNew">
                            <div class="row g-0">
                                <label class="text">Encargada</label>
                                <select class="form-select" name="encargada" [(ngModel)]="closing.encargada"
                                    style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif;">
                                    <option *ngFor="let managers of manager" [value]="managers.nombre">
                                        {{managers.nombre}}
                                    </option>
                                </select>
                            </div>
                        </div>

                    </div>
                </form>

                <div *ngIf="dates">

                    <div class="row tableContainer2">
                        <div class="fechaInicio">
                            <label style="color: #242424; font-size: 18px; font-family: sans-serif; 
                                        font-weight: bold; display: contents;">Inicial</label>
                            <input type="date" class="form-control" name="desdeFechaLiquidado"
                                (change)="inputDateAndTime()" [(ngModel)]="closing.desdeFecha"
                                [value]="closing.desdeFecha"
                                style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif">
                        </div>

                        <div class="horaInicio">
                            <input type="time" min="18:00" max="21:00" step="3600" class="form-control"
                                (change)="inputDateAndTime()" name="desdeHoraLiquidado" [(ngModel)]="closing.desdeHora"
                                [value]="closing.desdeHora"
                                style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif" />
                        </div>

                        <div class="fechaFinal">
                            <label style="color: #242424; font-size: 18px; font-family: sans-serif; 
                                            font-weight: bold; display: contents;">Final</label>
                            <input type="date" class="form-control" name="hastaFechaLiquidado"
                                (change)="inputDateAndTime()" [(ngModel)]="closing.hastaFecha"
                                [value]="closing.hastaFecha"
                                style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif">
                        </div>

                        <div class="horaFinal">
                            <input type="time" name="horaStart" min="18:00" max="21:00" step="3600" class="form-control"
                                [(ngModel)]="closing.hastaHora" (change)="inputDateAndTime()"
                                [value]="closing.hastaHora"
                                style="height: 2.2rem; border-color: #8C52FF; color: #242424; font-size: 18px; font-family: sans-serif">
                        </div>
                    </div>

                    <div class="row containerTitleSelect" *ngIf="dateTitle">
                        <div class="row g-0">
                            <label class="titleLiquidation">Cierre {{closing.encargada}}</label>
                        </div>

                        <div class="row g-0" style="justify-content: end">
                            <label class="titleLiquidation">{{textTotalBox + ' €'}}</label>
                        </div>

                    </div>
                </div>

                <!-- Table 2 -->

                <div class="column2" *ngIf="selected">
                    <div class="columnTable2">

                        <div>
                            <label></label>
                        </div>

                        <div class="textBox">
                            <label>Caja</label>
                        </div>

                        <div class="textService">
                            <label>Servicios</label>
                        </div>

                        <div class="textLiquidation">
                            <label>Liqui.</label>
                        </div>

                        <div class="textPayments">
                            <label>Pagos</label>
                        </div>
                    </div>

                    <hr class="lineTable2">

                    <div class="columnTable2">
                        <label class="columnPayments">Efectivo</label>
                        <label class="columnTotalBox">{{textTotalsBoxCash + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalCashTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCashTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCashTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Bizum</label>
                        <label class="columnTotalBox">{{textTotalsBoxBizum + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalBizumTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalBizumTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalBizumTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Tarjeta</label>
                        <label class="columnTotalBox">{{textTotalsBoxCard + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalCardTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCardTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCardTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Trasferencia</label>
                        <label class="columnTotalBox">{{textTotalsBoxTransaction + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalTransTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalTransactionTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalTransTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Total</label>
                        <label class="columnTotalBox">{{textTotalBox + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalServices + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalLiquidation + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalPayment + ' €'}}</label>
                    </div>
                </div>

                <!-- Table 3 -->

                <div class="row containerTable3" *ngIf="selected">
                    <div class="row g-0">
                        <label class="titleTable3">Ingresos por Servicios</label>
                    </div>

                    <div class="row g-0 arrow3" style="justify-content: end" id="arrowTable3Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable3' (click)="arrowTable3Add()"></i>
                    </div>

                </div>

                <div class="column3" *ngIf="selected">
                    <div class="columnTable3">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable3">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable3">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable3">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable3">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable3">

                    <div class="columnTable3" *ngFor="let close of unliquidatedService | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable3"> {{close.totalCashTable3 + ' €'}} </div>

                        <div class="columnBizumTable3">{{close.totalBizumTable3 + ' €'}} </div>

                        <div class="columnCardTable3">{{close.totalCardTable3 + ' €'}} </div>

                        <div class="columnTransTable3">{{close.totalTransTable3 + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable3">

                    <div class="columnTotalsTable3">
                        <label class="textTotalTable3">Total</label>
                        <label class="columnTotalsCashTable3">{{textTotalCashTable3 + ' €'}}</label>
                        <label class="columnTotalsBizumTable3">{{textTotalBizumTable3 + ' €'}}</label>
                        <label class="columnTotalsCardTable3">{{textTotalCardTable3 + ' €'}}</label>
                        <label class="columnTotalsTransTable3">{{textTotalTransTable3 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="selected" class="pagination_MobileTable3" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <!-- Table 4 -->

                <div class="row containerTable4" *ngIf="selected">
                    <div class="row g-0">
                        <label class="titleTable4">Pagado liquidaciones</label>
                    </div>

                    <div class="row g-0 arrow4" style="justify-content: end" id="arrowTable4Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable4' (click)="arrowTable4Add()"></i>
                    </div>

                </div>

                <div class="column4" *ngIf="selected">
                    <div class="columnTable4">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable4">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable4">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable4">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable4">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable4">

                    <div class="columnTable4" *ngFor="let close of unliquidatedServiceByLiquidationTherapistDistinct | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable4"> {{close.cashPayment + ' €'}} </div>

                        <div class="columnBizumTable4">{{close.bizumPayment + ' €'}} </div>

                        <div class="columnCardTable4">{{close.cardPayment + ' €'}} </div>

                        <div class="columnTransTable4">{{close.transactionPayment + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable4">

                    <div class="columnTotalsTable4">
                        <label class="textTotalTable4">Total</label>
                        <label class="columnTotalsCashTable4">{{textTotalCashTable4 + ' €'}}</label>
                        <label class="columnTotalsBizumTable4">{{textTotalBizumTable4 + ' €'}}</label>
                        <label class="columnTotalsCardTable4">{{textTotalCardTable4 + ' €'}}</label>
                        <label class="columnTotalsTransTable4">{{textTotalTransactionTable4 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="selected" class="pagination_MobileTable4" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <!-- Table 5 -->

                <div class="row containerTable5" *ngIf="selected">
                    <div class="row g-0">
                        <label class="titleTable4">Servicios pagados directamente a terapeuta</label>
                    </div>

                    <div class="row g-0 arrow5" style="justify-content: end" id="arrowTable5Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable5' (click)="arrowTable5Add()"></i>
                    </div>

                </div>

                <div class="column5" *ngIf="selected">
                    <div class="columnTable5">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable5">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable5">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable5">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable5">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable5">

                    <div class="columnTable5" *ngFor="let close of unsettledServicesDirectTherapistDistinct | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable5"> {{close.totalCashTable5 + ' €'}} </div>

                        <div class="columnBizumTable5">{{close.totalBizumTable5 + ' €'}} </div>

                        <div class="columnCardTable5">{{close.totalCardTable5 + ' €'}} </div>

                        <div class="columnTransTable5">{{close.totalTransTable5 + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable5">

                    <div class="columnTotalsTable5">
                        <label class="textTotalTable5">Total</label>
                        <label class="columnTotalsCashTable5">{{textTotalCashTable5 + ' €'}}</label>
                        <label class="columnTotalsBizumTable5">{{textTotalBizumTable5 + ' €'}}</label>
                        <label class="columnTotalsCardTable5">{{textTotalCardTable5 + ' €'}}</label>
                        <label class="columnTotalsTransTable5">{{textTotalTransTable5 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="selected" class="pagination_MobileTable5" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <div *ngIf="!editClosing" class="row inputButtonSave">

                    <div class="row g-0" *ngIf="selected && unliquidatedService.length > 0">
                        <button type="submit" mat-button class="btnSave" (click)="save()">Guardar</button>
                    </div>

                    <div class="row g-0" *ngIf="selected && unliquidatedService.length <= 0">
                        <button mat-button class="btnCancel" (click)="cancel()">Cancelar</button>
                    </div>

                    <div class="row g-0" *ngIf="selected && unliquidatedService.length > 0">
                        <button type="submit" mat-button class="btnCancel" (click)="cancel()">Cancelar</button>
                    </div>
                </div>

                <!-- Edit Closing -->

                <label *ngIf="editClosing" class="titleEdit">Cierre {{closing.encargada}}</label>

                <label *ngIf="editClosing" class="textDates">{{closing.desdeFecha + ' ' +
                    closing.desdeHora + ' a ' + closing.hastaFecha + ' ' + closing.hastaHora}}</label>

                <div *ngIf="editClosing">
                    <div class="row containerTitleEdit">
                        <div class="row g-0">
                            <label class="titleLiquidation">TOTAL LIQUIDACIÓN</label>
                        </div>

                        <div class="row g-0" style="justify-content: end">
                            <label class="titleLiquidation">{{textTotalBox + ' €'}}</label>
                        </div>
                    </div>
                </div>

                <!-- Table 2 -->

                <div class="column2" *ngIf="editClosing">
                    <div class="columnTable2">

                        <div>
                            <label></label>
                        </div>

                        <div class="textBox">
                            <label>Caja</label>
                        </div>

                        <div class="textService">
                            <label>Servicios</label>
                        </div>

                        <div class="textLiquidation">
                            <label>Liqui.</label>
                        </div>

                        <div class="textPayments">
                            <label>Pagos</label>
                        </div>
                    </div>

                    <hr class="lineTable2">

                    <div class="columnTable2">
                        <label class="columnPayments">Efectivo</label>
                        <label class="columnTotalBox">{{textTotalsBoxCash + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalCashTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCashTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCashTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Bizum</label>
                        <label class="columnTotalBox">{{textTotalsBoxBizum + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalBizumTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalBizumTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalBizumTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Tarjeta</label>
                        <label class="columnTotalBox">{{textTotalsBoxCard + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalCardTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCardTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalCardTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Trasferencia</label>
                        <label class="columnTotalBox">{{textTotalsBoxTransaction + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalTransTable3 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalTransactionTable4 + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalTransTable5 + ' €'}}</label>
                    </div>

                    <div class="columnTable2">
                        <label class="columnPayments">Total</label>
                        <label class="columnTotalBox">{{textTotalBox + ' €'}}</label>
                        <label class="columnTotalIncome">{{textTotalServices + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalLiquidation + ' €'}}</label>
                        <label class="columnTotalPayments">{{textTotalPayment + ' €'}}</label>
                    </div>
                </div>

                <!-- Table 3 -->

                <div class="row containerTable3" *ngIf="editClosing">
                    <div class="row g-0">
                        <label class="titleTable3">Ingresos por Servicios</label>
                    </div>

                    <div class="row g-0 arrow3" style="justify-content: end" id="arrowTable3Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable3' (click)="arrowTable3Add()"></i>
                    </div>

                </div>

                <div class="column3" *ngIf="editClosing">
                    <div class="columnTable3">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable3">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable3">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable3">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable3">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable3">

                    <div class="columnTable3" *ngFor="let close of unliquidatedService | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable3"> {{close.totalCashTable3 + ' €'}} </div>

                        <div class="columnBizumTable3">{{close.totalBizumTable3 + ' €'}} </div>

                        <div class="columnCardTable3">{{close.totalCardTable3 + ' €'}} </div>

                        <div class="columnTransTable3">{{close.totalTransTable3 + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable3">

                    <div class="columnTotalsTable3">
                        <label class="textTotalTable3">Total</label>
                        <label class="columnTotalsCashTable3">{{textTotalCashTable3 + ' €'}}</label>
                        <label class="columnTotalsBizumTable3">{{textTotalBizumTable3 + ' €'}}</label>
                        <label class="columnTotalsCardTable3">{{textTotalCardTable3 + ' €'}}</label>
                        <label class="columnTotalsTransTable3">{{textTotalTransTable3 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="editClosing" class="pagination_MobileTable3" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <!-- Table 4 -->

                <div class="row containerTable4" *ngIf="editClosing">
                    <div class="row g-0">
                        <label class="titleTable4">Pagado liquidaciones</label>
                    </div>

                    <div class="row g-0 arrow4" style="justify-content: end" id="arrowTable4Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable4' (click)="arrowTable4Add()"></i>
                    </div>

                </div>

                <div class="column4" *ngIf="editClosing">
                    <div class="columnTable4">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable4">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable4">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable4">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable4">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable4">

                    <div class="columnTable4" *ngFor="let close of unliquidatedServiceByLiquidationTherapistDistinct | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable4"> {{close.cashPayment + ' €'}} </div>

                        <div class="columnBizumTable4">{{close.bizumPayment + ' €'}} </div>

                        <div class="columnCardTable4">{{close.cardPayment + ' €'}} </div>

                        <div class="columnTransTable4">{{close.transactionPayment + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable4">

                    <div class="columnTotalsTable4">
                        <label class="textTotalTable4">Total</label>
                        <label class="columnTotalsCashTable4">{{textTotalCashTable4 + ' €'}}</label>
                        <label class="columnTotalsBizumTable4">{{textTotalBizumTable4 + ' €'}}</label>
                        <label class="columnTotalsCardTable4">{{textTotalCardTable4 + ' €'}}</label>
                        <label class="columnTotalsTransTable4">{{textTotalTransactionTable4 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="editClosing" class="pagination_MobileTable4" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <!-- Table 5 -->

                <div class="row containerTable5" *ngIf="editClosing">
                    <div class="row g-0">
                        <label class="titleTable4">Servicios pagados directamente a terapeuta</label>
                    </div>

                    <div class="row g-0 arrow5" style="justify-content: end" id="arrowTable5Add">
                        <i class='far fa-arrow-alt-circle-right arrowTable5' (click)="arrowTable5Add()"></i>
                    </div>

                </div>

                <div class="column5" *ngIf="editClosing">
                    <div class="columnTable5">
                        <div>
                            <label></label>
                        </div>

                        <div class="textCashTable5">
                            <label>Efectivo</label>
                        </div>

                        <div class="textBizumTable5">
                            <label>Bizum</label>
                        </div>

                        <div class="textCardTable5">
                            <label>Tarjeta</label>
                        </div>

                        <div class="textTransTable5">
                            <label>Transf</label>
                        </div>
                    </div>

                    <hr class="lineTable5">

                    <div class="columnTable5" *ngFor="let close of unsettledServicesDirectTherapistDistinct | paginate: 
                    { itemsPerPage: 10, currentPage: page }">

                        <div class="columnTherapist">{{close.terapeuta}}</div>

                        <div class="columnCashTable5"> {{close.totalCashTable5 + ' €'}} </div>

                        <div class="columnBizumTable5">{{close.totalBizumTable5 + ' €'}} </div>

                        <div class="columnCardTable5">{{close.totalCardTable5 + ' €'}} </div>

                        <div class="columnTransTable5">{{close.totalTransTable5 + ' €'}} </div>
                    </div>

                    <hr class="lineTotalsTable5">

                    <div class="columnTotalsTable5">
                        <label class="textTotalTable5">Total</label>
                        <label class="columnTotalsCashTable5">{{textTotalCashTable5 + ' €'}}</label>
                        <label class="columnTotalsBizumTable5">{{textTotalBizumTable5 + ' €'}}</label>
                        <label class="columnTotalsCardTable5">{{textTotalCardTable5 + ' €'}}</label>
                        <label class="columnTotalsTransTable5">{{textTotalTransTable5 + ' €'}}</label>
                    </div>
                </div>

                <pagination-controls *ngIf="editClosing" class="pagination_MobileTable5" (pageChange)="page = $event"
                    previousLabel="" nextLabel="">
                </pagination-controls>

                <div *ngIf="editClosing" class="row inputButtonEdit">

                    <div class="row g-0">
                        <button type="submit" mat-button class="btnDelete" (click)="delete()">Eliminar</button>
                    </div>

                    <div class="row g-0">
                        <button type="submit" mat-button class="btnCancel" (click)="cancel()">Cancelar</button>
                    </div>

                </div>
            </div>
        </div>

        <div *ngIf="loading" id="container_loading">
            <div id="load"></div>
        </div>
    </div>
</div>